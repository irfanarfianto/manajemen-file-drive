.shell {
   display: flex;
   min-height: 100vh;
   background: var(--color-bg-primary);
}

/* Main content area */
.main {
   flex: 1;
   display: flex;
   flex-direction: column;
   min-width: 0;
   overflow: hidden;
}

/* Header */
.header {
   display: flex;
   align-items: center;
   gap: var(--spacing-md);
   padding: var(--spacing-md) var(--spacing-xl);
   border-bottom: 1px solid var(--color-border);
   background: var(--color-bg-secondary);
   position: sticky;
   top: 0;
   z-index: var(--z-sticky);
}

/* Search */
.searchWrapper {
   position: relative;
   flex: 1;
   max-width: 480px;
}

.searchIcon {
   position: absolute;
   left: var(--spacing-md);
   top: 50%;
   transform: translateY(-50%);
   color: var(--color-text-muted);
   pointer-events: none;
}

.searchInput {
   width: 100%;
   padding: 10px var(--spacing-md) 10px calc(var(--spacing-md) + 24px);
   background: var(--color-surface);
   border: 1px solid var(--color-border);
   border-radius: var(--radius-full);
   color: var(--color-text-primary);
   font-size: var(--text-sm);
   font-family: var(--font-sans);
   outline: none;
   transition: all var(--transition-fast);
}

.searchInput::placeholder {
   color: var(--color-text-muted);
}

.searchInput:focus {
   border-color: var(--color-primary);
   background: var(--color-surface-hover);
   box-shadow: 0 0 0 3px var(--color-primary-subtle);
}

.searchClear {
   position: absolute;
   right: var(--spacing-md);
   top: 50%;
   transform: translateY(-50%);
   display: flex;
   align-items: center;
   justify-content: center;
   width: 20px;
   height: 20px;
   border: none;
   background: var(--color-surface-active);
   color: var(--color-text-muted);
   border-radius: 50%;
   cursor: pointer;
   transition: all var(--transition-fast);
}

.searchClear:hover {
   background: var(--color-danger);
   color: white;
}

/* View Toggle */
.viewToggle {
   display: flex;
   background: var(--color-surface);
   border: 1px solid var(--color-border);
   border-radius: var(--radius-md);
   padding: 2px;
}

.viewBtn {
   display: flex;
   align-items: center;
   justify-content: center;
   width: 32px;
   height: 32px;
   border: none;
   background: transparent;
   color: var(--color-text-muted);
   border-radius: var(--radius-sm);
   cursor: pointer;
   transition: all var(--transition-fast);
}

.viewBtn:hover {
   color: var(--color-text-primary);
}

.viewBtnActive {
   background: var(--color-primary) !important;
   color: white !important;
}

/* Content */
.content {
   flex: 1;
   padding: var(--spacing-xl);
   overflow-y: auto;
}

/* Breadcrumb */
.breadcrumb {
   display: flex;
   align-items: center;
   gap: var(--spacing-xs);
   margin-bottom: var(--spacing-md);
   flex-wrap: wrap;
}

.breadcrumbItem {
   border: none;
   background: transparent;
   color: var(--color-text-muted);
   font-size: var(--text-sm);
   cursor: pointer;
   padding: 2px 4px;
   border-radius: var(--radius-sm);
   transition: all var(--transition-fast);
}

.breadcrumbItem:hover {
   color: var(--color-text-primary);
   background: var(--color-surface);
}

.breadcrumbCurrent {
   color: var(--color-text-primary) !important;
   font-weight: var(--font-medium);
   cursor: default;
}

.breadcrumbCurrent:hover {
   background: transparent;
}

.breadcrumbSep {
   color: var(--color-text-muted);
   flex-shrink: 0;
}

/* Title row */
.titleRow {
   display: flex;
   align-items: baseline;
   gap: var(--spacing-md);
   margin-bottom: var(--spacing-lg);
}

.pageTitle {
   font-size: var(--text-xl);
   font-weight: var(--font-semibold);
   color: var(--color-text-primary);
   letter-spacing: -0.3px;
}

.fileCount {
   font-size: var(--text-sm);
   color: var(--color-text-muted);
   background: var(--color-surface);
   border: 1px solid var(--color-border);
   padding: 2px var(--spacing-sm);
   border-radius: var(--radius-full);
}

/* =============================================
   MODALS
   ============================================= */
.modalOverlay {
   position: fixed;
   inset: 0;
   background: rgba(0, 0, 0, 0.7);
   backdrop-filter: blur(4px);
   display: flex;
   align-items: center;
   justify-content: center;
   z-index: var(--z-modal);
   padding: var(--spacing-lg);
   animation: overlayIn 0.2s ease both;
}

@keyframes overlayIn {
   from {
      opacity: 0;
   }

   to {
      opacity: 1;
   }
}

.modal {
   background: var(--color-bg-elevated);
   border: 1px solid var(--color-border);
   border-radius: var(--radius-xl);
   width: 100%;
   max-width: 440px;
   box-shadow: var(--shadow-lg);
   animation: modalIn 0.25s cubic-bezier(0.16, 1, 0.3, 1) both;
}

@keyframes modalIn {
   from {
      opacity: 0;
      transform: translateY(16px) scale(0.97);
   }

   to {
      opacity: 1;
      transform: translateY(0) scale(1);
   }
}

.modalHeader {
   display: flex;
   align-items: center;
   justify-content: space-between;
   padding: var(--spacing-lg) var(--spacing-xl);
   border-bottom: 1px solid var(--color-border);
}

.modalTitle {
   font-size: var(--text-base);
   font-weight: var(--font-semibold);
   color: var(--color-text-primary);
}

.modalClose {
   display: flex;
   align-items: center;
   justify-content: center;
   width: 28px;
   height: 28px;
   border: none;
   background: transparent;
   color: var(--color-text-muted);
   border-radius: var(--radius-sm);
   cursor: pointer;
   transition: all var(--transition-fast);
}

.modalClose:hover {
   background: var(--color-surface);
   color: var(--color-text-primary);
}

.modalBody {
   padding: var(--spacing-xl);
}

.modalInput {
   width: 100%;
   padding: 12px var(--spacing-md);
   background: var(--color-surface);
   border: 1px solid var(--color-border);
   border-radius: var(--radius-md);
   color: var(--color-text-primary);
   font-size: var(--text-sm);
   font-family: var(--font-sans);
   outline: none;
   transition: all var(--transition-fast);
}

.modalInput:focus {
   border-color: var(--color-primary);
   box-shadow: 0 0 0 3px var(--color-primary-subtle);
}

.modalError {
   margin-top: var(--spacing-sm);
   font-size: var(--text-xs);
   color: var(--color-danger);
}

.deleteText {
   font-size: var(--text-sm);
   color: var(--color-text-secondary);
   line-height: 1.6;
}

.deleteText strong {
   color: var(--color-text-primary);
}

.modalFooter {
   display: flex;
   justify-content: flex-end;
   gap: var(--spacing-sm);
   padding: var(--spacing-md) var(--spacing-xl);
   border-top: 1px solid var(--color-border);
}

.btnCancel {
   padding: 10px var(--spacing-lg);
   background: var(--color-surface);
   border: 1px solid var(--color-border);
   border-radius: var(--radius-md);
   color: var(--color-text-secondary);
   font-size: var(--text-sm);
   font-weight: var(--font-medium);
   cursor: pointer;
   transition: all var(--transition-fast);
   font-family: var(--font-sans);
}

.btnCancel:hover {
   background: var(--color-surface-hover);
   color: var(--color-text-primary);
}

.btnPrimary {
   padding: 10px var(--spacing-lg);
   background: var(--gradient-brand);
   border: none;
   border-radius: var(--radius-md);
   color: white;
   font-size: var(--text-sm);
   font-weight: var(--font-medium);
   cursor: pointer;
   transition: all var(--transition-fast);
   font-family: var(--font-sans);
   box-shadow: 0 4px 12px var(--color-primary-glow);
}

.btnPrimary:hover {
   opacity: 0.9;
}

.btnPrimary:disabled {
   opacity: 0.4;
   cursor: not-allowed;
}

.btnDanger {
   padding: 10px var(--spacing-lg);
   background: var(--color-danger);
   border: none;
   border-radius: var(--radius-md);
   color: white;
   font-size: var(--text-sm);
   font-weight: var(--font-medium);
   cursor: pointer;
   transition: all var(--transition-fast);
   font-family: var(--font-sans);
}

.btnDanger:hover {
   opacity: 0.9;
}

.btnDanger:disabled {
   opacity: 0.4;
   cursor: not-allowed;
}